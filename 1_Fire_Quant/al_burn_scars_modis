/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////


// Last updated: 29.05.2025

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

var a = require('users/servirbz/packages:hyperspectral/emit_pace_misc');

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

var aoi_al = ee.Geometry.Polygon(
        [[[-88.53911313686014, 32.09611274378956],
          [-88.45122251186014, 30.063907241282006],
          [-87.00102719936014, 30.263380010406248],
          [-87.49541196498514, 30.94420693355463],
          [-84.95757016811014, 30.934783842328194],
          [-84.81474790248514, 32.21702558367845],
          [-85.55083188686014, 35.03408495354879],
          [-88.25346860561014, 35.06106766557723]]]);

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

var visParams = {color: {property: 'REP_AREA', mode: 'linear',
    palette: ['2ed033', '5aff05', '67b9ff', '5844ff', '0a7618', '2c05ff'], min: 0, max: 1550000}, opacity: 0.8};

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////


var fvLayer = ui.Map.FeatureViewLayer('WCMC/WDPA/current/polygons_FeatureView').setVisParams(visParams).setName('WCMC/WDPA/current/polygons');

var mcd64a1 = ee.ImageCollection('MODIS/061/MCD64A1').filter(ee.Filter.date('2016-01-01', '2025-05-31')).select('BurnDate').median().clip(aoi_al);

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////


Map.setCenter(-86.8098, 33.5167, 8);
Map.add(fvLayer);
Map.addLayer(mcd64a1, {min: 0, max: 365, palette: ['4e0400', '951003', 'c61503', 'ff1901']}, 'Burned Area', 1);
Map.addLayer(a.ln2(aoi_al), {palette: ['red']},'AOI_Alabama', 1);

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////